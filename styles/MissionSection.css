/* src/styles/MissionSection.css */

/* Этот keyframe создает "бегущие" пунктирные линии */
@keyframes data-flow-animation {
  100% {
    /* Двигает "старт" пунктирной линии. 
       -100 - это просто число, чтобы зациклить анимацию. */
    stroke-dashoffset: -100;
  }
}

/* * Слой "Сияния" (Glow) для потока данных.
 * Он толстый, медленный и полупрозрачный.
 */
.data-flow-path-glow {
  fill: none;
  stroke-width: 2px;
  /* 8px линия, 4px пробел */
  stroke-dasharray: 8 4;
  opacity: 0.2; /* Мягкое сияние */

  /* Анимация: 6 секунд, линейно, бесконечно */
  animation: data-flow-animation 6s linear infinite;

  /* ВАЖНО: Анимация "на паузе" по умолчанию */
  animation-play-state: paused;
}

/* * Слой "Ядра" (Core) для потока данных.
 * Он тонкий, яркий и быстрый.
 */
.data-flow-path-core {
  fill: none;
  stroke-width: 0.5px;
  /* 4px линия, 2px пробел (движется "быстрее") */
  stroke-dasharray: 4 2;
  opacity: 0.9; /* Яркий, почти сплошной */
  
  /* Анимация: 3 секунды, линейно, бесконечно */
  animation: data-flow-animation 3s linear infinite;

  /* Анимация "на паузе" по умолчанию */
  animation-play-state: paused;
}

/*
 * ЭТО ГЛАВНЫЙ ТРЮК:
 * Когда на секцию .mission-section добавляется класс .is-in-view,
 * мы "включаем" (running) анимацию для всех дочерних потоков.
 */
.mission-section.is-in-view .data-flow-path-glow,
.mission-section.is-in-view .data-flow-path-core {
  animation-play-state: running; /* ПОЕХАЛИ! */
}